<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Liên hệ với Real Estate để được tư vấn mua bán bất động sản tại Việt Nam. Gọi hotline, gửi email hoặc điền form để nhận hỗ trợ nhanh chóng.">
    <meta name="keywords" content="liên hệ bất động sản, tư vấn nhà đất, mua bán bất động sản, TP.HCM, Việt Nam">
    <meta name="author" content="Bất Động Sản">
    <title>Liên hệ - Bất Động Sản</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../assets/css/contact-style.css">
    
</head>
<body>
    <!-- Header -->
    <div th:replace="header :: header"></div>

    <!-- Main Content -->
    <main class="container py-5" aria-labelledby="contact-title">
        <div class="row">
            <!-- Contact Information -->
            <div class="col-md-4 mb-4">
                <h2 id="contact-title" class="section-title fade-in">Thông tin liên hệ</h2>
                <div class="card contact-info-card mb-4 fade-in">
                    <div class="card-body">
                        <h5 class="card-title"><i class="bi bi-geo-alt text-primary me-2"></i>Địa chỉ</h5>
                        <p class="card-text">123 Đường ABC, Quận 1, TP. Hồ Chí Minh, Việt Nam</p>
                    </div>
                </div>
                <div class="card contact-info-card mb-4 fade-in">
                    <div class="card-body">
                        <h5 class="card-title"><i class="bi bi-telephone text-primary me-2"></i>Hotline</h5>
                        <p class="card-text"><a href="tel:+84288888888" class="text-primary">+84 28 8888 8888</a></p>
                    </div>
                </div>
                <div class="card contact-info-card mb-4 fade-in">
                    <div class="card-body">
                        <h5 class="card-title"><i class="bi bi-envelope text-primary me-2"></i>Email</h5>
                        <p class="card-text"><a href="mailto:contact@realestate.vn" class="text-primary">contact@realestate.vn</a></p>
                    </div>
                </div>
                <div class="card contact-info-card fade-in">
                    <div class="card-body">
                        <h5 class="card-title"><i class="bi bi-clock text-primary me-2"></i>Giờ làm việc</h5>
                        <p class="card-text">
                            Thứ 2 - Thứ 6: 8:00 - 17:30<br>
                            Thứ 7: 8:00 - 12:00<br>
                            Chủ nhật: Nghỉ
                        </p>
                    </div>
                </div>
            </div>

            <!-- Contact Form -->
            <div class="col-md-8">
                <h2 class="section-title fade-in">Gửi tin nhắn cho chúng tôi</h2>
                <div class="card fade-in">
                    <div class="card-body">
                        <form id="contactForm" novalidate>
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="name" class="form-label">Họ và tên</label>
                                    <input type="text" class="form-control" id="name" required aria-describedby="nameFeedback">
                                    <div id="nameFeedback" class="invalid-feedback">Vui lòng nhập họ và tên.</div>
                                </div>
                                <div class="col-md-6">
                                    <label for="email" class="form-label">Email</label>
                                    <input type="email" class="form-control" id="email" required aria-describedby="emailFeedback">
                                    <div id="emailFeedback" class="invalid-feedback">Vui lòng nhập email hợp lệ.</div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="phone" class="form-label">Số điện thoại</label>
                                <input type="tel" class="form-control" id="phone" required pattern="\+84\d{9,10}|\d{10}" aria-describedby="phoneFeedback">
                                <div id="phoneFeedback" class="invalid-feedback">Vui lòng nhập số điện thoại hợp lệ (VD: +84xxxxxxxxx hoặc 0xxxxxxxxx).</div>
                            </div>
                            <div class="mb-3">
                                <label for="subject" class="form-label">Tiêu đề</label>
                                <input type="text" class="form-control" id="subject" required aria-describedby="subjectFeedback">
                                <div id="subjectFeedback" class="invalid-feedback">Vui lòng nhập tiêu đề.</div>
                            </div>
                            <div class="mb-3">
                                <label for="message" class="form-label">Nội dung</label>
                                <textarea class="form-control" id="message" rows="5" required aria-describedby="messageFeedback"></textarea>
                                <div id="messageFeedback" class="invalid-feedback">Vui lòng nhập nội dung tin nhắn.</div>
                            </div>
                            <div class="d-grid">
                                <button type="submit" class="btn btn-primary" id="submitButton">
                                    <span id="submitText"><i class="bi bi-send me-2"></i>Gửi tin nhắn</span>
                                    <span id="loadingSpinner" class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Map Section -->
        <div class="row mt-5">
            <div class="col-12">
                <h2 class="section-title fade-in">Vị trí của chúng tôi</h2>
                <div class="card fade-in">
                    <div class="card-body p-0">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3919.4241674197956!2d106.69877!3d10.762622!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31752f38f8ed84fb%3A0x8b8a398d693a3eb7!2sDistrict%201%2C%20Ho%20Chi%20Minh%20City%2C%20Vietnam!5e0!3m2!1svi!2s!4v1698765432109!5m2!1svi!2s" 
                                width="100%" 
                                height="450" 
                                style="border:0;" 
                                allowfullscreen="" 
                                loading="lazy" 
                                referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                    </div>
                </div>
            </div>
        </div>

        <!-- Toast Notification -->
        <div class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="true" data-bs-delay="3000">
            <div class="toast-header">
                <strong class="me-auto">Thông báo</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body"></div>
        </div>
    </main>

    <!-- Footer -->
    <div th:replace="footer :: footer"></div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/main.js"></script>
    <script>
        $(document).ready(function() {
            // Load header and footer
            $("#header").load("../templates/header.html", function() {
                console.log("Header loaded successfully");
            });
            $("#footer").load("../templates/footer.html", function() {
                console.log("Footer loaded successfully");
            });

            // Form validation and submission
            const form = document.getElementById('contactForm');
            form.addEventListener('submit', function(event) {
                event.preventDefault();
                event.stopPropagation();

                if (form.checkValidity()) {
                    const submitButton = $('#submitButton');
                    const submitText = $('#submitText');
                    const loadingSpinner = $('#loadingSpinner');
                    const toast = $('.toast');
                    const toastBody = $('.toast-body');

                    // Show loading state
                    submitButton.prop('disabled', true);
                    submitText.addClass('d-none');
                    loadingSpinner.removeClass('d-none');

                    // Simulate form submission
                    setTimeout(() => {
                        submitButton.prop('disabled', false);
                        submitText.removeClass('d-none');
                        loadingSpinner.addClass('d-none');

                        // Show success toast
                        toastBody.text('Tin nhắn của bạn đã được gửi thành công! Chúng tôi sẽ liên hệ trong vòng 24 giờ.');
                        toast.toast('show');

                        // Reset form
                        form.reset();
                        form.classList.remove('was-validated');
                    }, 1500);
                } else {
                    form.classList.add('was-validated');
                    const toast = $('.toast');
                    const toastBody = $('.toast-body');
                    toastBody.text('Vui lòng điền đầy đủ và chính xác các thông tin.');
                    toast.toast('show');
                }
            });

            // Input masking for phone
            $('#phone').on('input', function() {
                let value = this.value.replace(/\D/g, '');
                if (value.length > 11) value = value.slice(0, 11);
                this.value = value;
            });
        });
    </script>
</body>
</html>